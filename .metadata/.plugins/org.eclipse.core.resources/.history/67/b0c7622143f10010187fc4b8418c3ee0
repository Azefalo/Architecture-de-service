package fr.insa.ms.gassensorservice.controller;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class GasSensorController {

    private double gasLevel = 60.0;

    @GetMapping("/gas")
    public double getGasLevel() {
        return gasLevel;
    }

    @PostMapping("/gas/simulate")
    public void simulateGas(@RequestParam("value") double newValue) {
        this.gasLevel = newValue;
        System.out.println("Nouveau niveau de gaz simul√© : " + newValue);
    }
}
