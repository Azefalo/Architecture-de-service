package fr.insa.ms.alarmbuttonservice.controller;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class AlarmButtonController {

    private boolean alarmPressed = false;

    @GetMapping("/alarm")
    public boolean getAlarmState() {
        return alarmPressed;
    }

    @PostMapping("/alarm/simulate")
    public void simulateAlarm() {
        this.alarmPressed = true;
        System.out.println("Bouton d'alarme simul√© : pressed = true");
    }
    @PostMapping("/alarm")
    public void setAlarm(@RequestParam boolean value) { this.alarmPressed = value;
  }
}
