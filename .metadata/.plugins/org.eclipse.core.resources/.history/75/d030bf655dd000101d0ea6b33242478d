package fr.insa.ms.firesensorservice.controller;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class FireSensorController {

    // true = feu détecté, false = rien
    private boolean fireDetected = false;

    // GET /fire -> état actuel du capteur
    @GetMapping("/fire")
    public boolean getFireState() {
        return fireDetected;
    }

    // POST /fire/simulate?value=true|false
    @PostMapping("/fire/simulate")
    public void simulateFire(@RequestParam("value") boolean newValue) {
        this.fireDetected = newValue;
        System.out.println("Nouvel état du capteur feu : " + newValue);
    }
}
